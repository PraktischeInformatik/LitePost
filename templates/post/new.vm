$Resources.addStyle("css/pikaday.css")
$Resources.addStyle("css/medium-editor.css")
$Resources.addStyle("css/themes/bootstrap.css")
$Resources.addScriptFooter("js/pikaday.js")
$Resources.addScriptFooter("js/medium-editor.min.js")
$Resources.addScriptFooter("js/newpost.js")

#parse("header.vm")

<div id="wrapper">
  <div id="main">
    #if($error)
      <p>Bitte füllen sie alle benötigten Felder aus</p>
    #end

      $Form.begin("POST", ${Router.linkTo("insertPost")})
        $Input.text.name("title").placeholder("Titel").prepopulate()
        $Input.hidden.name("content").prepopulate()
        <div onblur="serialize_text()" id="input-editor" type="text" name="content" rows="10" placeholder="Inhalt"></div>
        $Input.text.name("contact").placeholder("Kontakt").prepopulate()
        <label>
          $Input.checkbox.name("is-event").attr("onclick", "toggle_event(this)").prepopulate()
          <div>Dieser Post ist ein Event</div>
        </label>
        $Input.text.name("date").placeholder("Datum").prepopulate()
        <label>
          <div>Bilder anfügen</div>
          $Input.file.name("image").attr("accept", "image/*")
        </label>



        $Input.csrfToken
        $Input.submit.general.value("Posten")        
      $Form.end()
<!--
    <form id="post-form" method="POST" action="${Router.linkTo("insertPost")}" enctype="multipart/form-data">
      
        <input id="input-title" type="text" name="title" placeholder="Titel" value="$title">

        <input type="hidden" id="input-content" name="content">

        <div onblur="serialize_text()" id="input-editor" type="text" name="content" rows="10" placeholder="Inhalt">$content</div>
      
        <button type="submit" class="general" id="post-submit">Post</button>
      
      $Resources.csrfToken()
    </form>
  </div>

  <div id="side">

    <input id="input-contact" type="text" name="contact" placeholder="Kontakt" value="$contact">
    
    <label>
      <input type="checkbox" name="is-event" onclick="toggle_event(this)">
      <div>Dieser Post ist ein Event</div>
    </label>

    <div id="date-div">
      <input id="input-date" type="text" name="date" placeholder="Datum">
    </div>

    <input id="input-image" type="file" name="image" accept="image/*">

  </div>-->

</div>

#parse("footer.vm")
</body>
</html>
